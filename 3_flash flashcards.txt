<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kids Flashcards</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #f0f8ff;
        text-align: center;
        padding: 30px;
    }

    h1 { color: #ff6f61; }

    .menu-card {
        background: white;
        padding: 20px;
        margin: 12px auto;
        width: 260px;
        border-radius: 10px;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 18px;
    }

    .flashcard {
        background: #fffbea;
        width: 220px;
        height: 130px;
        margin: 15px auto;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 26px;
        cursor: pointer;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        user-select: none;
    }

    .selected {
        border: 4px solid #4CAF50;
    }

    #downloadBtn {
        display: none;
        margin-top: 20px;
        padding: 12px 22px;
        font-size: 16px;
        background: #4CAF50;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }
</style>
</head>

<body>

<h1 id="title">ğŸ“š Kids Flashcards</h1>
<p id="subtitle">Choose a category</p>

<div id="menu">
    <div class="menu-card" onclick="openCategory('animals')">ğŸ¶ Animals</div>
    <div class="menu-card" onclick="openCategory('alphabet')">ğŸ”¤ Alphabet</div>
    <div class="menu-card" onclick="openCategory('numbers')">ğŸ”¢ Numbers</div>
    <div class="menu-card" onclick="openCategory('colors')">ğŸ¨ Colors</div>
    <div class="menu-card" onclick="openCategory('fruits')">ğŸ Fruits</div>
    <div class="menu-card" onclick="openCategory('vehicles')">ğŸš— Vehicles</div>
    <div class="menu-card" onclick="openCategory('shapes')">ğŸ”º Shapes</div>
    <div class="menu-card" onclick="openCategory('body')">ğŸ§â€â™‚ï¸ Body Parts</div>
</div>

<div id="cards"></div>

<button id="downloadBtn">Download (0)</button>

<script>
const data = {
    animals: [
        { front: "Dog", back: "ğŸ¶" },
        { front: "Cat", back: "ğŸ±" },
        { front: "Lion", back: "ğŸ¦" },
        { front: "Elephant", back: "ğŸ˜" },
        { front: "Monkey", back: "ğŸ’" },
        { front: "Cow", back: "ğŸ®" }
    ],

    alphabet: [
        { front: "A", back: "Apple ğŸ" },
        { front: "B", back: "Ball âš½" },
        { front: "C", back: "Cat ğŸ±" },
        { front: "D", back: "Dog ğŸ¶" },
        { front: "E", back: "Elephant ğŸ˜" },
        { front: "F", back: "Fish ğŸŸ" }
    ],

    numbers: [
        { front: "1", back: "One" },
        { front: "2", back: "Two" },
        { front: "3", back: "Three" },
        { front: "4", back: "Four" },
        { front: "5", back: "Five" },
        { front: "6", back: "Six" }
    ],

    colors: [
        { front: "Red", back: "ğŸ”´" },
        { front: "Blue", back: "ğŸ”µ" },
        { front: "Yellow", back: "ğŸŸ¡" },
        { front: "Green", back: "ğŸŸ¢" },
        { front: "Orange", back: "ğŸŸ " },
        { front: "Purple", back: "ğŸŸ£" }
    ],

    fruits: [
        { front: "Apple", back: "ğŸ" },
        { front: "Banana", back: "ğŸŒ" },
        { front: "Grapes", back: "ğŸ‡" },
        { front: "Orange", back: "ğŸŠ" },
        { front: "Strawberry", back: "ğŸ“" },
        { front: "Pineapple", back: "ğŸ" }
    ],

    vehicles: [
        { front: "Car", back: "ğŸš—" },
        { front: "Bus", back: "ğŸšŒ" },
        { front: "Train", back: "ğŸš†" },
        { front: "Plane", back: "âœˆï¸" },
        { front: "Bike", back: "ğŸš²" },
        { front: "Boat", back: "ğŸš¤" }
    ],

    shapes: [
        { front: "Circle", back: "âšª" },
        { front: "Square", back: "ğŸŸ¥" },
        { front: "Triangle", back: "ğŸ”º" },
        { front: "Rectangle", back: "â–­" },
        { front: "Star", back: "â­" },
        { front: "Heart", back: "â¤ï¸" }
    ],

    body: [
        { front: "Head", back: "ğŸ™‚" },
        { front: "Eyes", back: "ğŸ‘€" },
        { front: "Hands", back: "âœ‹" },
        { front: "Feet", back: "ğŸ¦¶" },
        { front: "Nose", back: "ğŸ‘ƒ" },
        { front: "Mouth", back: "ğŸ‘„" }
    ]
};

const params = new URLSearchParams(window.location.search);
const set = params.get("set");
let selectedCards = new Set();

if (set && data[set]) {
    document.getElementById("menu").style.display = "none";
    document.getElementById("subtitle").textContent = "Click cards to flip & select";
    document.getElementById("title").textContent =
        set.charAt(0).toUpperCase() + set.slice(1) + " Flashcards";
    loadCards(set);
}

function openCategory(type) {
    window.location.search = `?set=${type}`;
}

function loadCards(type) {
    const container = document.getElementById("cards");

    data[type].forEach((card, index) => {
        const div = document.createElement("div");
        div.className = "flashcard";
        div.textContent = card.front;

        let flipped = false;

        div.onclick = () => {
            flipped = !flipped;
            div.textContent = flipped ? card.back : card.front;

            div.classList.toggle("selected");
            selectedCards.has(index)
                ? selectedCards.delete(index)
                : selectedCards.add(index);

            updateButton();
        };

        container.appendChild(div);
    });
}

function updateButton() {
    const btn = document.getElementById("downloadBtn");
    if (selectedCards.size > 0) {
        btn.style.display = "inline-block";
        btn.textContent = `Download (${selectedCards.size})`;
        btn.onclick = downloadPNGs;
    } else {
        btn.style.display = "none";
    }
}

function downloadPNGs() {
    selectedCards.forEach((index, i) => {
        setTimeout(() => {
            const card = data[set][index];
            const canvas = createCanvas(card.front, card.back);
            const link = document.createElement("a");
            link.href = canvas.toDataURL("image/png");
            link.download = `${set}-card-${index + 1}.png`;
            link.click();
        }, i * 300);
    });
}

function createCanvas(front, back) {
    const canvas = document.createElement("canvas");
    canvas.width = 400;
    canvas.height = 250;
    const ctx = canvas.getContext("2d");

    ctx.fillStyle = "#fffbea";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.strokeStyle = "#4CAF50";
    ctx.lineWidth = 6;
    ctx.strokeRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "#000";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";

    ctx.font = "bold 36px Arial";
    ctx.fillText(front, canvas.width / 2, 90);

    ctx.font = "32px Arial";
    ctx.fillText(back, canvas.width / 2, 150);

    return canvas;
}
</script>

</body>
</html>
